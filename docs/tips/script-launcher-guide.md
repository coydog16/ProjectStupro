# スクリプトランチャーガイド

ProjectStupro では便利なスクリプトランチャーが用意されており、開発に必要なスクリプトを簡単に実行できます。このガイドではその使い方について説明します。

## スクリプトランチャーとは

スクリプトランチャーとは、プロジェクトで使用する様々なスクリプトを対話的に選択・実行するためのツールです。コマンドを覚える必要がなく、メニューから選ぶだけで各種操作が行えます。

## 使い方

1. プロジェクトのルートディレクトリで次のコマンドを実行します：

   ```bash
   ./run_script.sh
   ```

2. メニューが表示されたら、実行したいスクリプトの番号を入力して Enter キーを押します：

   ```
   ========================================
       NavStupro スクリプトランチャー
   ========================================
   実行可能なスクリプト:
   1. Docker環境をクリーンアップ (docker_clean.sh)
   2. コードをフォーマット (format_code.sh)
   3. 開発サーバーを起動 (start_dev_servers.sh)
   4. 開発サーバーを停止 (stop_dev_servers.sh)
   5. Sphinxドキュメントをビルド (build_sphinx_docs.sh)
   0. 終了

   実行したいスクリプト番号を入力してください:
   ```

## 利用可能なスクリプト

### 1. Docker環境をクリーンアップ
Docker 環境をクリーンアップします。古いコンテナ、イメージ、ボリュームなどを削除します。

### 2. コードをフォーマット
プロジェクトのコードを自動的にフォーマットします。Python コードには Black、TypeScript/JavaScript には Prettier が使用されます。

### 3. 開発サーバーを起動
フロントエンドとバックエンドの開発サーバーを起動します。開発環境でコードの変更を即座に反映させることができます。

**注意**: このスクリプトを実行する前に、Dockerコンテナが起動していることを確認してください（`docker compose up -d`）。このスクリプト自体はDockerコンテナを起動しません。

### 4. 開発サーバーを停止
実行中の開発サーバーを停止します。

### 5. Sphinxドキュメントをビルド
プロジェクトのドキュメントを Sphinx を使用してビルドします。HTML、PDF、ePub 形式での出力が可能です。

## エイリアスの設定（おすすめ）

頻繁に使用する場合は、シェルのエイリアスを設定しておくと便利です：

### Bashの場合
```bash
echo 'alias pslauncher="cd /path/to/ProjectStupro && ./run_script.sh"' >> ~/.bashrc
source ~/.bashrc
```

### Zshの場合
```zsh
echo 'alias pslauncher="cd /path/to/ProjectStupro && ./run_script.sh"' >> ~/.zshrc
source ~/.zshrc
```

設定後は、どのディレクトリにいても `pslauncher` コマンドでランチャーを起動できます。

## スクリプトの直接実行

特定のスクリプトを直接実行したい場合は、`scripts` ディレクトリ内のスクリプトを直接呼び出すこともできます：

```bash
# 例：開発サーバーを直接起動
./scripts/start_dev_servers.sh

# 例：コードをフォーマット
./scripts/format_code.sh
```

## トラブルシューティング

### スクリプトの実行権限がない場合

スクリプトに実行権限がない場合は、次のコマンドで権限を付与できます：

```bash
chmod +x run_script.sh
chmod +x scripts/*.sh
```

### スクリプトが見つからないエラー

ランチャーがスクリプトを見つけられない場合は、プロジェクトのルートディレクトリから実行しているか確認してください。

```bash
cd /path/to/ProjectStupro
./run_script.sh
```
